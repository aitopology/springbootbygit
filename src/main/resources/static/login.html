<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录-1112-springboot</title>
    <!--jquerry-->
    <script type="text/javascript " src="js/jquery-3.4.1.min.js"></script>
</head>
<body>
    <h1>用户登录</h1>
    <form id="form-login" action="login" method="post">
        <table>
            <tr>
                <td>用户名</td>
                <td><input type="text" name="username"><span style="color: red " id="span-username"></span></td>
            </tr>
            <tr>
                <td>密码</td>
                <td><input type="password" name="password"><span style="color: red " id="span-password"></span></td>
            </tr>
            <tr>
                <td colspan="2">
                    <input type="button" onclick="login()" value="登录">
                </td>
            </tr>
        </table>
    </form>

    <script type="text/javascript">
        function login() {
            //alert("登录");
            $("#span-username").empty();
            $("#span-password").empty();
            //ajax
            $.ajax({
                /*
                 * type:请求方式
                 * url:请求地址
                 * data:发送给服务器的数据
                 * dataType:返回的数据类型
                 * success:请求成功后的回调函数
                 */
                "type": "POST",
                "url": "/login",
                "dataType": "json",
                "data": $("#form-login").serialize(),
                "success": function (json) {
                    if(json.state==1){
                        alert("登录成功");
                    }else if(json.state==2){
                        $("#span-username").text("用户名不存在");
                    }else {
                        $("#span-password").text("密码错误");
                    }
                }
            });
        }
    </script>

</body>
</html>